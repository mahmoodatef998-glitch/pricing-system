# ๐ ุฏููู ุงููุดุฑ ููุฅูุชุงุฌ - ุฎุทูุฉ ุจุฎุทูุฉ
## Production Deployment Guide - Step by Step

**ุงูุชุงุฑูุฎ:** 20 ููููุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ูููุดุฑ**

---

## ๐ ุฌุฏูู ุงููุญุชููุงุช

1. [ุงูุชุญุถูุฑุงุช ุงูุฃูููุฉ](#ุงูุชุญุถูุฑุงุช-ุงูุฃูููุฉ)
2. [ุฅุนุฏุงุฏ ุงูุฎุงุฏู](#ุฅุนุฏุงุฏ-ุงูุฎุงุฏู)
3. [ุฑูุน ุงููุดุฑูุน](#ุฑูุน-ุงููุดุฑูุน)
4. [ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ](#ุฅุนุฏุงุฏ-ุงููุชุบูุฑุงุช-ุงูุจูุฆูุฉ)
5. [ุฅุนุฏุงุฏ DNS](#ุฅุนุฏุงุฏ-dns)
6. [ุฅุนุฏุงุฏ Nginx](#ุฅุนุฏุงุฏ-nginx)
7. [ุฅุนุฏุงุฏ SSL](#ุฅุนุฏุงุฏ-ssl)
8. [ุชุดุบูู ุงููุดุฑูุน](#ุชุดุบูู-ุงููุดุฑูุน)
9. [ุงูุงุฎุชุจุงุฑ ูุงูุชุญูู](#ุงูุงุฎุชุจุงุฑ-ูุงูุชุญูู)
10. [ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู](#ุฅุนุฏุงุฏ-ุงููุณุฎ-ุงูุงุญุชูุงุทู)
11. [ุงูุตูุงูุฉ](#ุงูุตูุงูุฉ)

---

## โ ุงูุชุญุถูุฑุงุช ุงูุฃูููุฉ

### ูุง ุชุญุชุงุฌู ูุจู ุงูุจุฏุก:

- [x] **Domain ุฌุงูุฒ** (ุงุณู ุงููุทุงู)
- [ ] **Hosting Server** (VPS) - ุณูุดุฑุญ ููููุฉ ุงูุญุตูู ุนููู
- [ ] **ูุนุฑูุฉ ุฃุณุงุณูุฉ ุจู Command Line**
- [ ] **2-3 ุณุงุนุงุช ููุช**

### ุงูุชูููุฉ ุงููุชููุนุฉ:

| ุงูุจูุฏ | ุงูุชูููุฉ ุงูุดูุฑูุฉ | ููุงุญุธุงุช |
|-------|-----------------|---------|
| **VPS Server** | $6-12 | DigitalOcean/Vultr/Hetzner |
| **Domain** | $0 | ูุฏูู ุจุงููุนู |
| **Cloudinary** | $0-10 | Free tier: 25GB |
| **ุงููุฌููุน** | **$6-22/ุดูุฑ** | |

---

## ๐ฆ ุงูุฎุทูุฉ 1: ุดุฑุงุก Hosting Server

### ุงูุฎูุงุฑ 1: DigitalOcean (ููุตู ุจู ูููุจุชุฏุฆูู) โญ

#### 1.1 ุงูุชุณุฌูู:
1. ุงุฐูุจ ุฅูู: https://www.digitalocean.com
2. ุงุถุบุท "Sign Up"
3. ุฃุฏุฎู Email ู Password
4. ุฃููู ุงูุชุณุฌูู

#### 1.2 ุฅุถุงูุฉ ุทุฑููุฉ ุงูุฏูุน:
1. ุงุฐูุจ ุฅูู **Billing** โ **Payment Methods**
2. ุฃุถู Credit Card ุฃู PayPal
3. (ูุทููุจ ููุจุฏุก)

#### 1.3 ุฅูุดุงุก Droplet:
1. ุงุถุบุท **"Create"** โ **"Droplets"**
2. ุงุฎุชุฑ ุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ:
   - **Image:** `Ubuntu 22.04 LTS`
   - **Plan:** `Basic` โ `$6/month` (1GB RAM, 1 vCPU, 25GB SSD)
   - **Region:** ุงุฎุชุฑ ุงูุฃูุฑุจ ููููุนู (ูุซูุงู: `Frankfurt` ุฃู `Singapore`)
   - **Authentication:** `SSH Key` (ุฃู `Password`)
3. ุงุถุบุท **"Create Droplet"**

#### 1.4 ุญูุธ ุงููุนูููุงุช:
- โ **IP Address:** (ูุซู: `123.45.67.89`) - **ุงุญูุธู!**
- โ **Username:** `root`
- โ **Password:** (ุฅุฐุง ุงุฎุชุฑุช Password) - **ุงุญูุธู!**

---

### ุงูุฎูุงุฑ 2: Vultr (ุจุฏูู ุฌูุฏ)

1. ุงุฐูุจ ุฅูู: https://www.vultr.com
2. ุณุฌู ุญุณุงุจ ุฌุฏูุฏ
3. ุงุถุบุท **"Deploy Server"**
4. ุงุฎุชุฑ:
   - **Server Type:** `Cloud Compute`
   - **CPU & Storage:** `Regular Performance` โ `$6/month`
   - **Server Location:** ุงุฎุชุฑ ุงูุฃูุฑุจ
   - **Operating System:** `Ubuntu 22.04`
5. ุงุถุบุท **"Deploy Now"**

---

### ุงูุฎูุงุฑ 3: Hetzner (ุฃุฑุฎุต - โฌ4/ุดูุฑ)

1. ุงุฐูุจ ุฅูู: https://www.hetzner.com
2. ุณุฌู ุญุณุงุจ ุฌุฏูุฏ
3. ุฃูุดุฆ Cloud Server
4. ุงุฎุชุฑ: `CX11` (1 vCPU, 2GB RAM) - โฌ4/ุดูุฑ

---

## ๐ง ุงูุฎุทูุฉ 2: ุฅุนุฏุงุฏ ุงูุฎุงุฏู

### 2.1 ุงูุงุชุตุงู ุจุงูุฎุงุฏู

#### ูู Windows (PowerShell):

```powershell
# ุงูุทุฑููุฉ 1: SSH (ุฅุฐุง ูุงู ูุฏูู SSH Key)
ssh root@[SERVER_IP]
# ูุซุงู: ssh root@123.45.67.89

# ุงูุทุฑููุฉ 2: Password (ุฅุฐุง ุงุฎุชุฑุช Password)
ssh root@[SERVER_IP]
# ุณูุทูุจ ููู Password - ุฃุฏุฎูู
```

#### ุฃู ุงุณุชุฎุฏุงู PuTTY:

1. ุญููู PuTTY ูู: https://www.putty.org
2. ุงูุชุญ PuTTY
3. ุฃุฏุฎู:
   - **Host Name:** `[SERVER_IP]`
   - **Port:** `22`
   - **Connection Type:** `SSH`
4. ุงุถุบุท **"Open"**
5. ุฃุฏุฎู Username: `root`
6. ุฃุฏุฎู Password

---

### 2.2 ุชุญุฏูุซ ุงููุธุงู

```bash
# ุชุญุฏูุซ ูุงุฆูุฉ ุงูุญุฒู
apt update

# ุชุฑููุฉ ุงููุธุงู
apt upgrade -y

# ุฅุนุงุฏุฉ ุงูุชุดุบูู (ุฅุฐุง ูุฒู ุงูุฃูุฑ)
reboot
```

---

### 2.3 ุชุซุจูุช Docker

```bash
# ุชุซุจูุช Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh
rm get-docker.sh

# ุงูุชุญูู ูู ุงูุชุซุจูุช
docker --version
# ูุฌุจ ุฃู ุชุฑู: Docker version 24.x.x ุฃู ุฃุญุฏุซ
```

---

### 2.4 ุชุซุจูุช Docker Compose

```bash
# ุชุซุจูุช Docker Compose
apt install docker-compose -y

# ุงูุชุญูู ูู ุงูุชุซุจูุช
docker-compose --version
# ูุฌุจ ุฃู ุชุฑู: Docker Compose version v2.x.x ุฃู ุฃุญุฏุซ
```

---

### 2.5 ุชุซุจูุช Nginx

```bash
# ุชุซุจูุช Nginx
apt install nginx -y

# ุชูุนูู Nginx
systemctl enable nginx
systemctl start nginx

# ุงูุชุญูู ูู ุงูุญุงูุฉ
systemctl status nginx
```

---

### 2.6 ุชุซุจูุช Certbot (ููู SSL)

```bash
# ุชุซุจูุช Certbot
apt install certbot python3-certbot-nginx -y

# ุงูุชุญูู ูู ุงูุชุซุจูุช
certbot --version
```

---

### 2.7 ุชุซุจูุช Git (ูุฑูุน ุงููุดุฑูุน)

```bash
# ุชุซุจูุช Git
apt install git -y

# ุงูุชุญูู ูู ุงูุชุซุจูุช
git --version
```

---

## ๐ค ุงูุฎุทูุฉ 3: ุฑูุน ุงููุดุฑูุน

### ุงูุทุฑููุฉ 1: ุงุณุชุฎุฏุงู Git (ููุตู ุจู) โญ

#### 3.1 ุนูู ุฌูุงุฒู (Local):

```powershell
# ุงูุชุญ PowerShell ูู ูุฌูุฏ ุงููุดุฑูุน
cd "C:\Users\admin\Desktop\mahmood\pricing system"

# ุฅุฐุง ูู ููู Git Repository ููุฌูุฏ
git init
git add .
git commit -m "Initial commit for production"

# ุงุฑูุน ุฅูู GitHub/GitLab
# (ุฃูุดุฆ Repository ุนูู GitHub ุฃููุงู)
git remote add origin https://github.com/YOUR_USERNAME/pricing-system.git
git push -u origin main
```

#### 3.2 ุนูู ุงูุฎุงุฏู:

```bash
# ุฃูุดุฆ ูุฌูุฏ ูููุดุฑูุน
mkdir -p /opt/pricing-system
cd /opt/pricing-system

# Clone ุงููุดุฑูุน
git clone https://github.com/YOUR_USERNAME/pricing-system.git .

# ุฃู ุฅุฐุง ูุงู Repository ุฎุงุต
git clone https://github.com/YOUR_USERNAME/pricing-system.git .
# ุณูุทูุจ ููู Username ู Password
```

---

### ุงูุทุฑููุฉ 2: ุงุณุชุฎุฏุงู SCP (ูู Windows)

```powershell
# ูู PowerShell ุนูู ุฌูุงุฒู
scp -r "C:\Users\admin\Desktop\mahmood\pricing system\*" root@[SERVER_IP]:/opt/pricing-system/
```

---

### ุงูุทุฑููุฉ 3: ุงุณุชุฎุฏุงู FileZilla (GUI)

1. **ุญููู FileZilla:**
   - ูู: https://filezilla-project.org

2. **ุงุชุตู:**
   - **Host:** `sftp://[SERVER_IP]`
   - **Username:** `root`
   - **Password:** `[YOUR_PASSWORD]`
   - **Port:** `22`

3. **ุงุฑูุน ุงููุดุฑูุน:**
   - ุงุณุญุจ ูุฌูุฏ ุงููุดุฑูุน ุฅูู `/opt/pricing-system/`

---

## ๐ ุงูุฎุทูุฉ 4: ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

### 4.1 ุฅูุดุงุก ููู .env.production

```bash
# ุนูู ุงูุฎุงุฏู
cd /opt/pricing-system
nano .env.production
```

### 4.2 ุฅุฏุฎุงู ุงูููู

**ุงูุณุฎ ูุงูุตู ุงูุชุงูู (ูุงุณุชุจุฏู ุงูููู):**

```env
# ============================================
# Database Configuration
# ============================================
POSTGRES_USER=pricing_admin
POSTGRES_PASSWORD=YOUR_STRONG_DB_PASSWORD_HERE
POSTGRES_DB=pricing_db

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=YOUR_VERY_STRONG_RANDOM_SECRET_HERE
JWT_EXPIRES_IN=24h

# ============================================
# Admin Credentials
# ============================================
ADMIN_USERNAME=admin
ADMIN_PASSWORD=YOUR_STRONG_ADMIN_PASSWORD_HERE

# ============================================
# Storage Provider
# ============================================
STORAGE_PROVIDER=hybrid

# ============================================
# Cloudinary Configuration (Optional)
# ============================================
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
CLOUDINARY_FOLDER=pricing-system

# ============================================
# CORS Configuration
# ============================================
# ุงุณุชุจุฏู your-domain.com ุจู Domain ุงูุฎุงุต ุจู
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# ============================================
# API URL
# ============================================
# ุงุณุชุจุฏู your-domain.com ุจู Domain ุงูุฎุงุต ุจู
API_URL=https://your-domain.com

# ============================================
# Environment
# ============================================
NODE_ENV=production

# ============================================
# Logging
# ============================================
LOG_LEVEL=info
```

### 4.3 ุฅูุดุงุก ูููุงุช ูุฑูุฑ ูููุฉ

```bash
# ุฅูุดุงุก JWT_SECRET ููู
openssl rand -base64 32

# ุฅูุดุงุก Database Password ููู
openssl rand -base64 24

# ุฅูุดุงุก Admin Password ููู
openssl rand -base64 16
```

**ูุซุงู ุนูู ุงูููู:**
```env
POSTGRES_PASSWORD=K8mN2pQ9rT5vW7xY3zA6bC1dE4fG
JWT_SECRET=H9jK2mL5nP8qR3tV6wY9zA1bC4dE7fG0hI3jK6mL9nP2qR5tV8wY1zA4bC7dE
ADMIN_PASSWORD=Q5wE8rT2yU6iO1pA4sD7fG0hJ3kL6mN
```

### 4.4 ุญูุธ ุงูููู

- ุงุถุบุท `Ctrl + X`
- ุงุถุบุท `Y`
- ุงุถุบุท `Enter`

### 4.5 ุญูุงูุฉ ุงูููู

```bash
# ููุน ุงููุฑุงุกุฉ ูู ุงููุณุชุฎุฏููู ุงูุขุฎุฑูู
chmod 600 .env.production
```

---

## ๐ ุงูุฎุทูุฉ 5: ุฅุนุฏุงุฏ DNS

### 5.1 ูู ููุญุฉ ุชุญูู Domain:

1. **ุณุฌู ุงูุฏุฎูู:**
   - ุงุฐูุจ ุฅูู ููุญุฉ Domain ุงูุฎุงุตุฉ ุจู
   - (Namecheap, GoDaddy, Cloudflare, ุฅูุฎ)

2. **ุงุฐูุจ ุฅูู DNS Settings:**
   - ุงุจุญุซ ุนู **"DNS Management"** ุฃู **"Advanced DNS"**

3. **ุฃุถู A Records:**

```
Type: A Record
Host: @
Value: [SERVER_IP]
TTL: Automatic (ุฃู 3600)

Type: A Record
Host: www
Value: [SERVER_IP]
TTL: Automatic (ุฃู 3600)
```

4. **ุงุญูุธ ุงูุชุบููุฑุงุช**

5. **ุงูุชุธุฑ 5-30 ุฏูููุฉ:**
   - DNS Propagation ูุฏ ูุณุชุบุฑู ููุชุงู
   - ุชุญูู ูู: https://www.whatsmydns.net

---

## ๐ง ุงูุฎุทูุฉ 6: ุฅุนุฏุงุฏ Nginx

### 6.1 ุฅูุดุงุก Configuration File

```bash
# ุนูู ุงูุฎุงุฏู
nano /etc/nginx/sites-available/pricing-system
```

### 6.2 ุฅุฏุฎุงู Configuration

**ุงูุณุฎ ูุงูุตู ุงูุชุงูู (ูุงุณุชุจุฏู your-domain.com):**

```nginx
server {
    listen 80;
    server_name your-domain.com www.your-domain.com;

    # Increase body size for file uploads
    client_max_body_size 50M;

    # Frontend
    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # Backend API
    location /api {
        proxy_pass http://localhost:4000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Swagger Documentation
    location /api-docs {
        proxy_pass http://localhost:4000;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Health Check
    location /health {
        proxy_pass http://localhost:4000;
        proxy_set_header Host $host;
    }

    # File Uploads
    location /uploads {
        proxy_pass http://localhost:4000;
        proxy_set_header Host $host;
    }
}
```

### 6.3 ุชูุนูู Configuration

```bash
# ุฅูุดุงุก Symbolic Link
ln -s /etc/nginx/sites-available/pricing-system /etc/nginx/sites-enabled/

# ุญุฐู Default Configuration
rm /etc/nginx/sites-enabled/default

# ุงุฎุชุจุงุฑ Configuration
nginx -t

# ุฅุฐุง ูุฌุญ ุงูุงุฎุชุจุงุฑุ ุฃุนุฏ ุชุดุบูู Nginx
systemctl restart nginx
```

---

## ๐ ุงูุฎุทูุฉ 7: ุฅุนุฏุงุฏ SSL

### 7.1 ุงูุญุตูู ุนูู SSL Certificate

```bash
# ุนูู ุงูุฎุงุฏู (ุงุณุชุจุฏู your-domain.com)
certbot --nginx -d your-domain.com -d www.your-domain.com
```

### 7.2 ุงุชุจุน ุงูุชุนูููุงุช:

1. **ุฃุฏุฎู Email:** (ููุชุฌุฏูุฏุงุช ูุงูุฅุดุนุงุฑุงุช)
2. **ูุงูู ุนูู ุงูุดุฑูุท:** ุงุถุบุท `A` ุซู `Enter`
3. **ุงุฎุชุฑ Redirect HTTP to HTTPS:** ุงุถุบุท `2` ุซู `Enter`

### 7.3 ุงูุชุญูู ูู SSL

```bash
# ุชุญูู ูู Certificates
certbot certificates

# ูุฌุจ ุฃู ุชุฑู Certificate ุตุงูุญ
```

### 7.4 ุชุฌุฏูุฏ ุชููุงุฆู

```bash
# Certbot ูุฌุฏุฏ ุชููุงุฆูุงูุ ููู ููููู ุงูุชุญูู:
certbot renew --dry-run
```

---

## ๐ ุงูุฎุทูุฉ 8: ุชุดุบูู ุงููุดุฑูุน

### 8.1 ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุงููุดุฑูุน

```bash
cd /opt/pricing-system
```

### 8.2 ุจูุงุก ูุชุดุบูู Containers

```bash
# ุจูุงุก ูุชุดุบูู ุฌููุน Services
docker-compose -f docker-compose.prod.yml --env-file .env.production up -d --build
```

### 8.3 ุงูุชุญูู ูู ุงูุญุงูุฉ

```bash
# ุนุฑุถ ุญุงูุฉ ุฌููุน Containers
docker-compose -f docker-compose.prod.yml ps

# ูุฌุจ ุฃู ุชุฑู:
# NAME                    STATUS
# pricing-db-prod         Up (healthy)
# pricing-backend-prod    Up
# pricing-frontend-prod   Up
```

### 8.4 ุนุฑุถ Logs

```bash
# ุฌููุน Logs
docker-compose -f docker-compose.prod.yml logs -f

# Backend ููุท
docker-compose -f docker-compose.prod.yml logs -f backend

# Frontend ููุท
docker-compose -f docker-compose.prod.yml logs -f frontend

# Database ููุท
docker-compose -f docker-compose.prod.yml logs -f db
```

---

## โ ุงูุฎุทูุฉ 9: ุงูุงุฎุชุจุงุฑ ูุงูุชุญูู

### 9.1 ุงุฎุชุจุงุฑ Frontend

ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
```
https://your-domain.com
```

**ูุฌุจ ุฃู ุชุฑู:**
- โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุชุนูู
- โ HTTPS ูุนูู (ููู ุฃุฎุถุฑ)
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Console

---

### 9.2 ุงุฎุชุจุงุฑ Backend API

ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
```
https://your-domain.com/api/health
```

**ูุฌุจ ุฃู ุชุฑู:**
```json
{
  "status": "ok",
  "timestamp": "2025-11-20T...",
  "uptime": 123.45,
  "environment": "production",
  "services": {
    "database": "connected",
    "cloudinary": "connected" // ุฃู "not_configured"
  }
}
```

---

### 9.3 ุงุฎุชุจุงุฑ Swagger Documentation

ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
```
https://your-domain.com/api-docs
```

**ูุฌุจ ุฃู ุชุฑู:**
- โ Swagger UI ูุนูู
- โ ุฌููุน Endpoints ูุฑุฆูุฉ

---

### 9.4 ุงุฎุชุจุงุฑ Match Product

ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
```
https://your-domain.com/match
```

**ุฌุฑุจ:**
- โ ุฅุฏุฎุงู ููุงุตูุงุช ููุชุฌ
- โ ุงูุถุบุท ุนูู "Match"
- โ ูุฌุจ ุฃู ูุนูู ุงูุจุญุซ

---

### 9.5 ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู

ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
```
https://your-domain.com/admin/login
```

**ุฌุฑุจ:**
- โ Username: `admin` (ุฃู ูุง ูุถุนุชู ูู .env.production)
- โ Password: (ูุง ูุถุนุชู ูู .env.production)
- โ ูุฌุจ ุฃู ูุนูู ุชุณุฌูู ุงูุฏุฎูู

---

### 9.6 ุงุฎุชุจุงุฑ Admin Dashboard

ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู:
- โ ุงุฐูุจ ุฅูู `/admin/products`
- โ ูุฌุจ ุฃู ุชุฑู ูุงุฆูุฉ ุงูููุชุฌุงุช
- โ ุฌุฑุจ ุฅูุดุงุก ููุชุฌ ุฌุฏูุฏ
- โ ุฌุฑุจ Export Excel/PDF

---

## ๐พ ุงูุฎุทูุฉ 10: ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู

### 10.1 ุฅูุดุงุก Script ูููุณุฎ ุงูุงุญุชูุงุทู

```bash
# ุนูู ุงูุฎุงุฏู
nano /opt/backup.sh
```

### 10.2 ุฅุฏุฎุงู Script

```bash
#!/bin/bash

# Configuration
BACKUP_DIR="/opt/backups"
DATE=$(date +%Y%m%d_%H%M%S)
DB_FILENAME="pricing_db_$DATE.sql"
FILES_FILENAME="pricing_files_$DATE.tar.gz"

# Create backup directory
mkdir -p $BACKUP_DIR

# Database backup
echo "Starting database backup..."
docker exec pricing-db-prod pg_dump -U pricing_admin pricing_db > "$BACKUP_DIR/$DB_FILENAME"

# Compress database backup
gzip "$BACKUP_DIR/$DB_FILENAME"

# Files backup
echo "Starting files backup..."
tar -czf "$BACKUP_DIR/$FILES_FILENAME" /opt/pricing-system/backend/uploads

# Delete old backups (older than 30 days)
echo "Cleaning old backups..."
find $BACKUP_DIR -name "pricing_db_*.sql.gz" -mtime +30 -delete
find $BACKUP_DIR -name "pricing_files_*.tar.gz" -mtime +30 -delete

echo "Backup completed!"
echo "Database: $DB_FILENAME.gz"
echo "Files: $FILES_FILENAME"
```

### 10.3 ุชูุนูู Script

```bash
# ุฌุนู Script ูุงุจู ููุชูููุฐ
chmod +x /opt/backup.sh

# ุงุฎุชุจุงุฑ Script
/opt/backup.sh
```

### 10.4 ุฅุถุงูุฉ ุฅูู Crontab (ูุณุฎ ุงุญุชูุงุทู ูููู)

```bash
# ูุชุญ Crontab
crontab -e

# ุฃุถู ุงูุณุทุฑ ุงูุชุงูู (ูุณุฎ ุงุญุชูุงุทู ูููู ุงูุณุงุนุฉ 2 ุตุจุงุญุงู)
0 2 * * * /opt/backup.sh >> /opt/backup.log 2>&1
```

---

## ๐ง ุงูุฎุทูุฉ 11: ุงูุตูุงูุฉ

### 11.1 ุฅุนุงุฏุฉ ุชุดุบูู Services

```bash
cd /opt/pricing-system
docker-compose -f docker-compose.prod.yml restart
```

### 11.2 ุนุฑุถ Logs

```bash
# ุฌููุน Logs
docker-compose -f docker-compose.prod.yml logs -f

# Backend ููุท
docker-compose -f docker-compose.prod.yml logs -f backend

# Frontend ููุท
docker-compose -f docker-compose.prod.yml logs -f frontend
```

### 11.3 ุชุญุฏูุซ ุงููุดุฑูุน

```bash
cd /opt/pricing-system

# ุฅุฐุง ุงุณุชุฎุฏูุช Git
git pull
docker-compose -f docker-compose.prod.yml up -d --build

# ุฅุฐุง ูู ุชุณุชุฎุฏู Git
# ุงุฑูุน ุงููููุงุช ุงูุฌุฏูุฏุฉ ูุฏููุงู
docker-compose -f docker-compose.prod.yml up -d --build
```

### 11.4 ุงูุชุญูู ูู ุงููุณุงุญุฉ

```bash
# ุนุฑุถ ุงุณุชุฎุฏุงู ุงููุณุงุญุฉ
df -h

# ุนุฑุถ ุญุฌู Docker Images
docker system df
```

### 11.5 ุชูุธูู Docker

```bash
# ุญุฐู Images ุบูุฑ ุงููุณุชุฎุฏูุฉ
docker system prune -a

# ุญุฐู Volumes ุบูุฑ ุงููุณุชุฎุฏูุฉ
docker volume prune
```

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ 1: Domain ูุง ูุนูู

**ุงูุญู:**
```bash
# ุชุญูู ูู DNS
nslookup your-domain.com

# ุชุญูู ูู Nginx
systemctl status nginx
nginx -t

# ุชุญูู ูู Logs
tail -f /var/log/nginx/error.log
```

---

### ุงููุดููุฉ 2: SSL ูุง ูุนูู

**ุงูุญู:**
```bash
# ุชุญูู ูู Certificates
certbot certificates

# ุชุฌุฏูุฏ Certificate
certbot renew

# ุฅุนุงุฏุฉ ุชุดุบูู Nginx
systemctl restart nginx
```

---

### ุงููุดููุฉ 3: Services ูุง ุชุนูู

**ุงูุญู:**
```bash
# ุชุญูู ูู Logs
docker-compose -f docker-compose.prod.yml logs

# ุฃุนุฏ ุงูุชุดุบูู
docker-compose -f docker-compose.prod.yml restart

# ุฅุนุงุฏุฉ ุงูุจูุงุก
docker-compose -f docker-compose.prod.yml up -d --build
```

---

### ุงููุดููุฉ 4: Database Connection Error

**ุงูุญู:**
```bash
# ุชุญูู ูู Database
docker exec -it pricing-db-prod psql -U pricing_admin -d pricing_db

# ุชุญูู ูู Environment Variables
cat .env.production | grep DATABASE

# ุชุญูู ูู Logs
docker-compose -f docker-compose.prod.yml logs db
```

---

### ุงููุดููุฉ 5: File Upload ูุง ูุนูู

**ุงูุญู:**
```bash
# ุชุญูู ูู ุงููุณุงุญุฉ
df -h

# ุชุญูู ูู Permissions
ls -la /opt/pricing-system/backend/uploads

# ุชุญูู ูู Nginx client_max_body_size
grep client_max_body_size /etc/nginx/sites-available/pricing-system
```

---

## ๐ Checklist ุงูููุงุฆู

### ูุจู ุงููุดุฑ:
- [ ] Server ุฌุงูุฒ ููุชุตู
- [ ] Docker ูุซุจุช
- [ ] Docker Compose ูุซุจุช
- [ ] Nginx ูุซุจุช
- [ ] Certbot ูุซุจุช
- [ ] ุงููุดุฑูุน ูุฑููุน ุนูู Server
- [ ] Environment Variables ูุนุฏูุฉ (.env.production)
- [ ] Domain DNS ูุถุจูุท

### ุฃุซูุงุก ุงููุดุฑ:
- [ ] Nginx Configuration ูุนุฏู
- [ ] SSL Certificate ูุซุจุช
- [ ] Services ุชุนูู (docker-compose ps)

### ุจุนุฏ ุงููุดุฑ:
- [ ] ุงููููุน ูุนูู ุนูู HTTPS
- [ ] Frontend ูุนูู (https://your-domain.com)
- [ ] Backend API ูุนูู (https://your-domain.com/api/health)
- [ ] Swagger ูุนูู (https://your-domain.com/api-docs)
- [ ] ุชุณุฌูู ุงูุฏุฎูู ูุนูู
- [ ] Match Product ูุนูู
- [ ] Admin Dashboard ูุนูู
- [ ] ุงููุณุฎ ุงูุงุญุชูุงุทู ูุนุฏู

---

## โ ุงูุฎูุงุตุฉ

### ุงูุฎุทูุงุช ุงูุฃุณุงุณูุฉ:
1. โ ุดุฑุงุก Hosting Server ($6-12/ุดูุฑ)
2. โ ุงูุงุชุตุงู ุจู Server
3. โ ุชุซุจูุช Docker, Docker Compose, Nginx, Certbot
4. โ ุฑูุน ุงููุดุฑูุน (Git/SCP/FileZilla)
5. โ ุฅุนุฏุงุฏ Environment Variables (.env.production)
6. โ ุฅุนุฏุงุฏ DNS (A Records)
7. โ ุฅุนุฏุงุฏ Nginx (Reverse Proxy)
8. โ ุฅุนุฏุงุฏ SSL (Certbot)
9. โ ุชุดุบูู ุงููุดุฑูุน (docker-compose)
10. โ ุงุฎุชุจุงุฑ ุฌููุน ุงูููุฒุงุช
11. โ ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู

### ุงูููุช ุงููุชููุน:
- **ุงูุฅุนุฏุงุฏ ุงูุฃูู:** 2-3 ุณุงุนุงุช
- **ุงูุตูุงูุฉ ุงูุดูุฑูุฉ:** 10-15 ุฏูููุฉ

### ุงูุชูููุฉ:
- **ุงูุดูุฑ ุงูุฃูู:** $6-22
- **ุดูุฑูุงู:** $6-22/ุดูุฑ
- **ุณูููุงู:** $72-264/ุณูุฉ

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

### ุงููููุงุช ุงููุฑุฌุนูุฉ:
- `ุฏููู_ุงููุดุฑ_ุงููุนูู_ูุน_Domain.md` - ุฏููู ุชูุตููู
- `ุชูุฑูุฑ_ุดุงูู_ูุชูููู_ุงุญุชุฑุงูู_ูููุดุฑูุน.md` - ุชูุฑูุฑ ุงููุดุฑูุน
- `ููููุฉ_ุงุณุชุฎุฏุงู_Swagger.md` - ุงุณุชุฎุฏุงู API

### ุงูุฃูุงูุฑ ุงูุณุฑูุนุฉ:

```bash
# ุฅุนุงุฏุฉ ุชุดุบูู ุฌููุน Services
cd /opt/pricing-system && docker-compose -f docker-compose.prod.yml restart

# ุนุฑุถ Logs
docker-compose -f docker-compose.prod.yml logs -f

# ุชุญุฏูุซ ุงููุดุฑูุน
cd /opt/pricing-system && git pull && docker-compose -f docker-compose.prod.yml up -d --build

# ูุณุฎ ุงุญุชูุงุทู ูุฏูู
/opt/backup.sh
```

---

**ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูุฏููู ุจูุงุณุทุฉ:** AI Assistant  
**ุงูุชุงุฑูุฎ:** 20 ููููุจุฑ 2025  
**ุงูุฅุตุฏุงุฑ:** 1.0.0  
**ุงูุญุงูุฉ:** โ **ุฌุงูุฒ ูููุดุฑ**

---

## ๐ ุชูุงูููุง!

**ุงููุดุฑูุน ุงูุขู ุฌุงูุฒ ููุฅูุชุงุฌ!** ๐

ุฌููุน ุงูุฎุทูุงุช ููุชููุฉ ูุงููุดุฑูุน ูุนูู ุนูู HTTPS ูุน SSL Certificate ุตุงูุญ.

**ุงูุฎุทูุฉ ุงูุชุงููุฉ:** ุงุจุฏุฃ ูู ุงุณุชุฎุฏุงู ุงููุดุฑูุน ูุฅุถุงูุฉ ุงูููุชุฌุงุช! ๐

